SET SERVEROUTPUT ON
DECLARE
C_INVOICE_NUMBER INVOICE.INVOICE_NUM%TYPE;
C_PRODUCT COIN.PRODUCT%TYPE;
C_PRICE COIN.PRICE%TYPE;
C_DELIVERY_NOTE COIN_DELIVERY.DELIVERY_NOTES%TYPE;
C_TYPE_A VARCHAR2(50);
CURSOR C_INVOICE_P IS
SELECT INVOICE_NUM, PRODUCT, PRICE, DELIVERY_NOTES
FROM COIN C
JOIN INVOICE I ON CO.COIN_ID = I.COIN_ID
JOIN COIN_DELIVERY CD ON D.DELIVERY_ID = IV.DELIVERY_ID
WHERE IV.INVOICE_NUM = 8115;
BEGIN
OPEN C_INVOICE_P;
LOOP
FETCH C_INVOICE_P
INTO C_INVOICE_NUMBER, C_PRODUCT, C_PRICE, C_DELIVERY_NOTE;
IF C_PRICE >= 10000 THEN
C_TYPE_A := 'PREMIUM';
ELSE
C_TYPE_A := 'STANDARD';
 END IF;
EXIT WHEN C_INVOICE_P%NOTFOUND;
DBMS_OUTPUT.PUT_LINE('INVOICE NUMBER: ' || C_INVOICE_NUMBER);
DBMS_OUTPUT.PUT_LINE('COIN PRODUCT: ' || C_PRODUCT);
DBMS_OUTPUT.PUT_LINE('PRICE: ' || C_PRICE);
DBMS_OUTPUT.PUT_LINE('DELIVERY NOTE: ' || C_DELIVERY_NOTE);
DBMS_OUTPUT.PUT_LINE('COIN TYPE: ' || C_TYPE_A);
DBMS_OUTPUT.PUT_LINE('------------------------');
END LOOP;
END;
